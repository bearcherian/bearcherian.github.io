    <!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta name="author" content="Bear Cherian">
		<meta name="description" content="An exploration of technical things">
		<meta name="generator" content="Hugo 0.38.2" />
		<title>Smart ALT field validation &middot; Bear Cherian</title>
		<link rel="shortcut icon" href="http://bearcherian.github.io/images/favicon.ico">
		<link rel="stylesheet" href="http://bearcherian.github.io/css/style.css">
		<link rel="stylesheet" href="http://bearcherian.github.io/css/highlight.css">
		

		
		<link rel="stylesheet" href="http://bearcherian.github.io/css/font-awesome.min.css">
		

		
	</head>

    <body>
       <nav class="main-nav">
	
	
		<a href='http://bearcherian.github.io/'> <span class="arrow">←</span>Home</a>
	
	<a href='http://bearcherian.github.io/post'>Archive</a>
	<a href='http://bearcherian.github.io/tags'>Tags</a>
	<a href='http://bearcherian.github.io/about'>About</a>

	

	
</nav>


        <section id="wrapper">
            <article class="post">
                <header>
                    <h1>
                        Smart ALT field validation
                    </h1>
                    <h2 class="headline">
                    Jun 18, 2014 00:00
                    · 133 words
                    · 1 minute read
                      <span class="tags">
                      
                      
                          
                              <a href="http://bearcherian.github.io/tags/cq">CQ</a>
                          
                              <a href="http://bearcherian.github.io/tags/aem">AEM</a>
                          
                              <a href="http://bearcherian.github.io/tags/images">images</a>
                          
                              <a href="http://bearcherian.github.io/tags/ada-compliance">ADA compliance</a>
                          
                              <a href="http://bearcherian.github.io/tags/acessibility">acessibility</a>
                          
                      
                      
                      </span>
                    </h2>
                </header>
                
                <section id="post-body">
                    <p>We had a requirement to enforce alt attributes on images. Sounds simple, just set the alt field to required. The problem is when you do that for components that use images, like Text &amp; Image. If a user decides to enter text, but not use the image portion the ALT text is still required, and the alert for a missing field still appears.</p>

<p>To fix this we add a function to the &lsquo;validator&rsquo; property of the ALT Text field using CQs ExtJS. The function below invalidates the field only if the field is empty, and the image component has data. If there is no image, then the field value is not checked.</p>

<pre><code>function(value) {
    var imgComponent = this.findParentByType('dialog').findByType('html5smartimage');
    var imgHasData = imgComponent[0].hasData();
    return ( !imgHasData || (imgHasData &amp;amp;&amp;amp; value != '') );
}
</code></pre>

                </section>
            </article>

            

            
                <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'bearcherianprogblog'; 

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>

            

            

            <footer id="footer">
    
        <div id="social">

	
	
    <a class="symbol" href="https://www.github.com/bearcherian">
        <i class="fa fa-github-square"></i>
    </a>
    
    <a class="symbol" href="https://www.twitter.com/bearcherian">
        <i class="fa fa-twitter-square"></i>
    </a>
    


</div>

    
    <p class="small">
    
       © Copyright 2018 <i class="fa fa-heart" aria-hidden="true"></i> Bear Cherian
    
    </p>
    <p class="small">
        Powered by <a href="http://www.gohugo.io/">Hugo</a> Theme By <a href="https://github.com/nodejh/hugo-theme-cactus-plus">nodejh</a>
    </p>
</footer>

        </section>

        <script src="http://bearcherian.github.io/js/jquery-2.2.4.min.js"></script>
<script src="http://bearcherian.github.io/js/main.js"></script>
<script src="http://bearcherian.github.io/js/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>




  
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-123542-10', 'auto');
ga('send', 'pageview');
</script>





    </body>
</html>
